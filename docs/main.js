(()=>{"use strict";var n={56:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},72:n=>{var e=[];function t(n){for(var t=-1,r=0;r<e.length;r++)if(e[r].identifier===n){t=r;break}return t}function r(n,r){for(var a={},i=[],s=0;s<n.length;s++){var d=n[s],c=r.base?d[0]+r.base:d[0],l=a[c]||0,p="".concat(c," ").concat(l);a[c]=l+1;var m=t(p),u={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==m)e[m].references++,e[m].updater(u);else{var g=o(u,r);r.byIndex=s,e.splice(s,0,{identifier:p,updater:g,references:1})}i.push(p)}return i}function o(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,o){var a=r(n=n||[],o=o||{});return function(n){n=n||[];for(var i=0;i<a.length;i++){var s=t(a[i]);e[s].references--}for(var d=r(n,o),c=0;c<a.length;c++){var l=t(a[c]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}a=d}}},113:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},314:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map(function(e){var t="",r=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),r&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),r&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t}).join("")},e.i=function(n,t,r,o,a){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var d=this[s][0];null!=d&&(i[d]=!0)}for(var c=0;c<n.length;c++){var l=[].concat(n[c]);r&&i[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),t&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=t):l[2]=t),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),e.push(l))}},e}},365:(n,e,t)=>{t.d(e,{A:()=>s});var r=t(601),o=t.n(r),a=t(314),i=t.n(a)()(o());i.push([n.id,"@import url(https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap);"]),i.push([n.id,'\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\n:root {\n  --primary: #6366f1;\n  --primary-hover: #4f46e5;\n  --secondary: #8b5cf6;\n  --success: #10b981;\n  --bg: #0f172a;\n  --card: #1e293b;\n  --card-hover: #334155;\n  --text: #f1f5f9;\n  --text-dim: #94a3b8;\n  --border: #334155;\n  --glow: rgba(99, 102, 241, 0.3);\n}\n\nbody {\n  font-family: \'Inter\', -apple-system, BlinkMacSystemFont, sans-serif;\n  background: var(--bg);\n  color: var(--text);\n  line-height: 1.5;\n  min-height: 100vh;\n}\n\n#main-arena {\n  max-width: 900px;\n  margin: 0 auto;\n  padding: 2rem 1rem;\n}\n\n/* ============================================\n   NAVIGATION\n   ============================================ */\nnav {\n  background: var(--card);\n  border-bottom: 1px solid var(--border);\n  padding: 1rem 2rem;\n  margin-bottom: 2rem;\n  display: flex;\n  gap: 0.5rem;\n  justify-content: center;\n}\n\nnav button {\n  background: transparent;\n  border: 1px solid var(--border);\n  padding: 0.5rem 1.5rem;\n  border-radius: 0.5rem;\n  color: var(--text-dim);\n  font-size: 0.9rem;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\nnav button:hover {\n  background: var(--card-hover);\n  color: var(--text);\n  border-color: var(--primary);\n}\n\nnav button.active {\n  background: var(--primary);\n  color: white;\n  border-color: var(--primary);\n  box-shadow: 0 0 20px var(--glow);\n}\n\n/* ============================================\n   WRAPPERS\n   ============================================ */\n.home-wrapper,\n.expense-wrapper,\n.wrapper {\n  background: var(--card);\n  border: 1px solid var(--border);\n  border-radius: 1rem;\n  padding: 2rem;\n  margin-bottom: 1.5rem;\n}\n\n.title {\n  font-size: 2.5rem;\n  font-weight: 700;\n  text-align: center;\n  background: linear-gradient(135deg, var(--primary), var(--secondary));\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  margin-bottom: 2rem;\n}\n\n/* ============================================\n   HOME\n   ============================================ */\n.chooseMonth {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 1rem;\n  margin-top: 2rem;\n}\n\n.chooseMonth::before {\n  content: \'Month:\';\n  color: var(--text-dim);\n  font-size: 0.9rem;\n}\n\n#monthSelect {\n  padding: 0.5rem 1rem;\n  background: var(--bg);\n  border: 1px solid var(--border);\n  border-radius: 0.5rem;\n  color: var(--text);\n  font-size: 0.95rem;\n  cursor: pointer;\n}\n\n#monthSelect:focus {\n  outline: none;\n  border-color: var(--primary);\n  box-shadow: 0 0 0 3px var(--glow);\n}\n\n/* ============================================\n   INCOME - COMPACT\n   ============================================ */\n.amount.wrapper {\n  display: grid;\n  gap: 0.75rem;\n  padding: 1.5rem;\n  background: var(--card);\n}\n\n.amount.wrapper label {\n  font-size: 1rem;\n  color: var(--text);\n}\n\n#amountInput {\n  padding: 0.75rem 1rem;\n  background: var(--bg);\n  border: 1px solid var(--border);\n  border-radius: 0.5rem;\n  font-size: 1.25rem;\n  color: var(--text);\n  text-align: center;\n}\n\n#amountInput:focus {\n  outline: none;\n  border-color: var(--primary);\n  box-shadow: 0 0 0 3px var(--glow);\n}\n\n#save-button {\n  padding: 0.75rem;\n  background: var(--success);\n  color: white;\n  border: none;\n  border-radius: 0.5rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n#save-button:hover {\n  opacity: 0.9;\n  transform: translateY(-1px);\n}\n\n/* ============================================\n   EXPENSES - MINIMAL & COMPACT\n   ============================================ */\n.expense-wrapper {\n  padding: 1.5rem;\n}\n\n.expense-wrapper h2 {\n  font-size: 1.25rem;\n  font-weight: 600;\n  color: var(--text);\n  margin: 1.5rem 0 1rem 0;\n  padding-bottom: 0.5rem;\n  border-bottom: 2px solid var(--primary);\n  display: inline-block;\n}\n\n.expense-wrapper h3 {\n  font-size: 1.1rem;\n  font-weight: 600;\n  margin: 2rem 0 1rem 0;\n}\n\n#default-expense-container {\n  display: grid;\n  gap: 0.75rem;\n}\n\n.default-expense-row {\n  display: grid;\n  grid-template-columns: auto 1fr auto auto;\n  align-items: center;\n  gap: 0.75rem;\n  padding: 0.75rem;\n  background: var(--bg);\n  border: 1px solid var(--border);\n  border-radius: 0.5rem;\n  transition: all 0.2s;\n}\n\n.default-expense-row:hover {\n  border-color: var(--primary);\n}\n\n.default-expense-row input[type="checkbox"] {\n  width: 18px;\n  height: 18px;\n  cursor: pointer;\n  accent-color: var(--primary);\n}\n\n.default-expense-row label {\n  font-size: 0.9rem;\n  color: var(--text);\n  cursor: pointer;\n}\n\n.default-expense-row input[type="number"] {\n  width: 100px;\n  padding: 0.4rem 0.6rem;\n  background: var(--card);\n  border: 1px solid var(--border);\n  border-radius: 0.25rem;\n  color: var(--text);\n  font-size: 0.85rem;\n}\n\n.default-expense-row select {\n  padding: 0.4rem 0.6rem;\n  background: var(--card);\n  border: 1px solid var(--border);\n  border-radius: 0.25rem;\n  color: var(--text);\n  font-size: 0.85rem;\n  cursor: pointer;\n}\n\n.default-expense-row input:disabled,\n.default-expense-row select:disabled {\n  opacity: 0.4;\n  cursor: not-allowed;\n}\n\n.default-expense-row input:focus,\n.default-expense-row select:focus {\n  outline: none;\n  border-color: var(--primary);\n}\n\n/* Custom Expense Form - Compact */\n.expense-wrapper label:not(.default-expense-row label) {\n  display: block;\n  font-size: 0.85rem;\n  color: var(--text-dim);\n  margin-top: 1rem;\n  margin-bottom: 0.25rem;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n.expense-wrapper input[type="text"],\n.expense-wrapper input[type="number"]:not(.default-expense-row input),\n.expense-wrapper select:not(.default-expense-row select) {\n  width: 100%;\n  padding: 0.6rem;\n  background: var(--bg);\n  border: 1px solid var(--border);\n  border-radius: 0.5rem;\n  color: var(--text);\n  font-size: 0.9rem;\n}\n\n.expense-wrapper input:focus,\n.expense-wrapper select:focus {\n  outline: none;\n  border-color: var(--primary);\n  box-shadow: 0 0 0 3px var(--glow);\n}\n\n#add-custom-expense {\n  width: 100%;\n  padding: 0.75rem;\n  background: var(--primary);\n  color: white;\n  border: none;\n  border-radius: 0.5rem;\n  font-weight: 600;\n  cursor: pointer;\n  margin-top: 1rem;\n  transition: all 0.2s;\n}\n\n#add-custom-expense:hover {\n  background: var(--primary-hover);\n  box-shadow: 0 0 20px var(--glow);\n}\n\n/* Expense List */\n#expense-list {\n  display: grid;\n  gap: 0.5rem;\n}\n\n.expense-row {\n  padding: 0.75rem;\n  background: var(--bg);\n  border-left: 3px solid var(--primary);\n  border-radius: 0.25rem;\n  font-size: 0.9rem;\n  transition: all 0.2s;\n}\n\n.expense-row:hover {\n  background: var(--card-hover);\n  transform: translateX(4px);\n}\n\n#expense-list > div:first-child:last-child {\n  text-align: center;\n  padding: 2rem;\n  color: var(--text-dim);\n  font-style: italic;\n  font-size: 0.9rem;\n}\n\n/* ============================================\n   MENU SECTIONS\n   ============================================ */\n#menu-income-section,\n#menu-expenses-section {\n  margin-bottom: 1.5rem;\n}\n\n/* ============================================\n   RESPONSIVE\n   ============================================ */\n@media (max-width: 768px) {\n  #main-arena {\n    padding: 1rem 0.75rem;\n  }\n  \n  nav {\n    padding: 0.75rem 1rem;\n    flex-wrap: wrap;\n  }\n  \n  .default-expense-row {\n    grid-template-columns: auto 1fr;\n    gap: 0.5rem;\n  }\n  \n  .default-expense-row input[type="number"],\n  .default-expense-row select {\n    grid-column: 1 / -1;\n    width: 100%;\n  }\n  \n  .title {\n    font-size: 2rem;\n  }\n}\n\n/* ============================================\n   AI GLOW EFFECTS\n   ============================================ */\n.home-wrapper,\n.expense-wrapper,\n.wrapper {\n  animation: fadeIn 0.3s ease-out;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\ninput:focus,\nselect:focus,\nbutton:hover {\n  transition: all 0.2s ease;\n}\n\n/* Scrollbar */\n::-webkit-scrollbar {\n  width: 8px;\n}\n\n::-webkit-scrollbar-track {\n  background: var(--bg);\n}\n\n::-webkit-scrollbar-thumb {\n  background: var(--border);\n  border-radius: 4px;\n}\n\n::-webkit-scrollbar-thumb:hover {\n  background: var(--primary);\n}\n\n/* ✅ ADDED: Dashboard Stats */\n.dashboard-stats {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 1rem;\n  margin-top: 2rem;\n}\n\n.stat-card {\n  background: #1a1f3a;\n  border: 1px solid #2d3548;\n  border-radius: 8px;\n  padding: 1.5rem;\n  text-align: center;\n}\n\n.stat-card h3 {\n  font-size: 0.9rem;\n  color: #94a3b8;\n  margin-bottom: 0.5rem;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n.stat-card .amount {\n  font-size: 1.8rem;\n  font-weight: 700;\n  margin: 0;\n}\n\n.income-card {\n  border-left: 4px solid #10b981;\n}\n\n.income-card .amount {\n  color: #10b981;\n}\n\n.expenses-card {\n  border-left: 4px solid #ef4444;\n}\n\n.expenses-card .amount {\n  color: #ef4444;\n}\n\n.remaining-card.positive {\n  border-left: 4px solid #8b5cf6;\n}\n\n.remaining-card.positive .amount {\n  color: #8b5cf6;\n}\n\n.remaining-card.negative {\n  border-left: 4px solid #f59e0b;\n}\n\n.remaining-card.negative .amount {\n  color: #f59e0b;\n}\n\n.month-card {\n  border-left: 4px solid #3b82f6;\n}\n\n.month-card .month-text {\n  font-size: 1.2rem;\n  font-weight: 600;\n  color: #3b82f6;\n  margin: 0;\n}\n\n.delete-btn {\n  background: rgba(255, 70, 70, 0.15);   /* transparent red */\n  border: 1px solid rgba(255, 70, 70, 0.4);\n  color: #ff4d4d;\n\n  padding: 6px 10px;\n  border-radius: 8px;\n\n  font-size: 16px;\n  cursor: pointer;\n\n  backdrop-filter: blur(6px);\n  -webkit-backdrop-filter: blur(6px);\n\n  transition: all 0.25s ease;\n}\n\n.delete-btn:hover {\n  background: rgba(255, 70, 70, 0.35);\n  color: #fff;\n  box-shadow: 0 0 10px rgba(255, 70, 70, 0.6);\n  transform: scale(1.1);\n}\n\n.delete-btn:active {\n  transform: scale(0.95);\n}\n\n\n/* ===== MONTH CARD ===== */\n/* ===============================\n   GAME CARD BASE\n================================ */\n.month-card {\n  position: relative;\n  background: radial-gradient(\n      120% 120% at top left,\n      rgba(99,102,241,0.15),\n      transparent 60%\n    ),\n    linear-gradient(\n      160deg,\n      #0b1224,\n      #020617 70%\n    );\n  border-radius: 18px;\n  padding: 1.6rem;\n  margin-bottom: 1.5rem;\n  border: 1px solid rgba(99,102,241,0.25);\n  box-shadow:\n    0 20px 50px rgba(0,0,0,0.6),\n    inset 0 0 0 1px rgba(255,255,255,0.03);\n  transition: all 0.35s ease;\n  overflow: hidden;\n}\n\n/* holographic edge glow */\n.month-card::before {\n  content: "";\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  background: linear-gradient(\n    120deg,\n    transparent,\n    rgba(99,102,241,0.25),\n    transparent\n  );\n  opacity: 0;\n  transition: opacity 0.35s ease;\n}\n\n.month-card:hover {\n  transform: translateY(-6px) scale(1.015);\n  box-shadow:\n    0 30px 70px rgba(0,0,0,0.8),\n    0 0 35px var(--glow);\n}\n\n.month-card:hover::before {\n  opacity: 1;\n}\n\n/* ===============================\n   TITLE (LIKE PLAYER NAME)\n================================ */\n.month-title {\n  font-size: 1.15rem;\n  font-weight: 700;\n  text-transform: uppercase;\n  letter-spacing: 1px;\n  color: var(--text);\n  margin-bottom: 1.4rem;\n  display: flex;\n  align-items: center;\n  gap: 0.6rem;\n}\n\n/* level indicator line */\n.month-title::after {\n  content: "";\n  flex: 1;\n  height: 2px;\n  background: linear-gradient(\n    to right,\n    var(--primary),\n    transparent\n  );\n  opacity: 0.6;\n}\n\n/* ===============================\n   STAT ROWS\n================================ */\n.row {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.9rem 1rem;\n  margin-bottom: 0.8rem;\n  border-radius: 12px;\n  background: linear-gradient(\n    145deg,\n    rgba(255,255,255,0.04),\n    rgba(255,255,255,0.01)\n  );\n  font-size: 0.95rem;\n  color: var(--text-dim);\n  border: 1px solid rgba(255,255,255,0.05);\n  transition: all 0.25s ease;\n}\n\n/* hover like selectable game stat */\n.row:hover {\n  transform: translateX(4px);\n  background: linear-gradient(\n    145deg,\n    rgba(99,102,241,0.15),\n    rgba(99,102,241,0.05)\n  );\n  border-color: rgba(99,102,241,0.35);\n}\n\n/* label */\n.row span:first-child {\n  text-transform: uppercase;\n  font-size: 0.75rem;\n  letter-spacing: 1px;\n}\n\n/* value */\n.row span:last-child {\n  font-size: 1.05rem;\n  font-weight: 700;\n  letter-spacing: 0.5px;\n}\n\n/* ===============================\n   INCOME (BUFF)\n================================ */\n.row.income span:last-child {\n  color: #22c55e;\n  text-shadow: 0 0 10px rgba(34,197,94,0.4);\n}\n\n/* ===============================\n   EXPENSE (DAMAGE)\n================================ */\n.row.expense span:last-child {\n  color: #ef4444;\n  text-shadow: 0 0 10px rgba(239,68,68,0.4);\n}\n\n/* ===============================\n   SAVINGS (SPECIAL SKILL)\n================================ */\n.row.savings {\n  margin-top: 1.2rem;\n  padding: 1.1rem;\n  background: linear-gradient(\n    160deg,\n    rgba(139,92,246,0.25),\n    rgba(139,92,246,0.05)\n  );\n  border: 1px solid rgba(139,92,246,0.45);\n}\n\n.row.savings span:first-child {\n  color: var(--text);\n}\n\n.row.savings span:last-child {\n  color: var(--secondary);\n  font-size: 1.15rem;\n  text-shadow: 0 0 14px rgba(139,92,246,0.6);\n}\n\n/* ===============================\n   MOBILE\n================================ */\n@media (max-width: 600px) {\n  .month-card {\n    padding: 1.3rem;\n  }\n\n  .row {\n    padding: 0.8rem;\n  }\n}\n',""]);const s=i},540:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},601:n=>{n.exports=function(n){return n[1]}},659:n=>{var e={};n.exports=function(n,t){var r=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,o&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(r,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}}},e={};function t(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={id:r,exports:{}};return n[r](a,a.exports,t),a.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.nc=void 0;var r=t(72),o=t.n(r),a=t(825),i=t.n(a),s=t(659),d=t.n(s),c=t(56),l=t.n(c),p=t(540),m=t.n(p),u=t(113),g=t.n(u),b=t(365),f={};f.styleTagTransform=g(),f.setAttributes=l(),f.insert=d().bind(null,"head"),f.domAPI=i(),f.insertStyleElement=m(),o()(b.A,f),b.A&&b.A.locals&&b.A.locals;let h=v();function v(){const n=new Date;return`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}`}function x(){return h}function y(){try{const n=localStorage.getItem("allIncome");return n?JSON.parse(n):{}}catch(n){return console.error("Failed to load income data:",n),{}}}function w(){try{const n=localStorage.getItem("allExpenses");return n?JSON.parse(n):{}}catch(n){return console.error("Failed to load expenses data:",n),{}}}function E(n,e){return n[e]||(n[e]={income:0,expenses:[]}),n}function k(n){try{const e=y();return e[n]?.income||0}catch(n){return console.error("Failed to get income:",n),0}}function L(n){try{const e=w();return e[n]?.expenses||[]}catch(n){return console.error("Failed to get expenses:",n),[]}}function I(){return k(h)}function M(){return L(h).reduce((n,e)=>n+function(n,e){if(!n||n<=0)return 0;switch(e){case"daily":return 31*n;case"weekly":return 4.33*n;default:return n}}(e.amount,e.repeat),0)}function S(){const n=document.getElementById("main-arena");n.innerHTML="";const e=document.createElement("div");e.classList.add("home-wrapper");const t=document.createElement("h1");t.classList.add("title"),t.innerHTML="<strong>Finance Manager</strong>";const r=document.createElement("div");r.classList.add("chooseMonth");const o=document.createElement("select");o.id="monthSelect";const a=["January","February","March","April","May","June","July","August","September","October","November","December"],i=(new Date).getFullYear(),s=(new Date).getMonth();for(let n=-12;n<=12;n++){const e=new Date(i,s+n,1),t=e.getFullYear(),r=e.getMonth(),d=a[r],c=document.createElement("option");c.value=`${t}-${String(r+1).padStart(2,"0")}`,c.textContent=`${d} ${t}`,o.appendChild(c)}o.value=v(),r.appendChild(o);const d=document.createElement("div");function c(){const n=I(),e=M(),t=I()-M(),r=x();d.innerHTML=`\n      <div class="stat-card income-card">\n        <h3>Total Income</h3>\n        <p class="amount">₹${n.toLocaleString()}</p>\n      </div>\n\n      <div class="stat-card expenses-card">\n        <h3>Total Expenses</h3>\n        <p class="amount">₹${e.toLocaleString()}</p>\n          <p>\n          (${n>0?(e/n*100).toFixed(1):0}%)\n        </p>\n      </div>\n\n      <div class="stat-card remaining-card ${t>=0?"positive":"negative"}">\n        <h3>Remaining</h3>\n        <p class="amount">₹${t.toLocaleString()}\n        </p>\n        <p> (${n>0?(t/n*100).toFixed(1):0}%)</p>\n      </div>\n\n      <div class="stat-card month-card">\n        <h3>Active Month</h3>\n        <p class="month-text">${r}</p>\n      </div>\n    `}d.classList.add("dashboard-stats"),d.id="dashboard-stats",o.addEventListener("change",()=>{const n=o.value;h=n,c(),console.log("Switched to month:",n)}),e.appendChild(t),e.appendChild(r),e.appendChild(d),n.appendChild(e),c()}function C(n){document.querySelectorAll("nav button").forEach(n=>n.classList.remove("active")),n.classList.add("active")}S(),document.addEventListener("DOMContentLoaded",()=>{const n=document.getElementById("dashboardBtn"),e=document.getElementById("menuBtn"),t=document.getElementById("historyBtn"),r=document.getElementById("insightsBtn"),o=document.getElementById("settingsBtn");n.addEventListener("click",()=>{document.getElementById("main-arena").innerHTML="",S(),C(n)}),e.addEventListener("click",()=>{document.getElementById("main-arena").innerHTML="",function(){const n=document.getElementById("main-arena");n.innerHTML="";const e=document.createElement("div");e.id="menu-income-section";const t=document.createElement("div");t.id="menu-expenses-section",n.appendChild(e),n.appendChild(t),function(n){const e=n||document.getElementById("main-arena"),t=document.createElement("div");t.classList.add("amount","wrapper");const r=document.createElement("label");r.innerHTML="<strong> Enter Net Income </strong>",r.setAttribute("for","amountInput");const o=document.createElement("input");o.type="number",o.id="amountInput",o.placeholder="0",o.min="0";const a=document.createElement("label");a.setAttribute("for","default-income-check"),a.textContent="Set as Default Net income";const i=x(),s=k(i);s&&(o.value=s),console.log("Loaded income for month:",i,"Amount:",s);const d=document.createElement("button");d.id="save-button",d.textContent="Save",d.addEventListener("click",()=>{const n=Number(o.value);if(!n||n<=0)alert("Enter a valid amount");else try{const e=x();!function(n,e){try{const t=y();return E(t,n),t[n].income=e,localStorage.setItem("allIncome",JSON.stringify(t)),console.log("Saved income:",e,"for month:",n),!0}catch(n){return console.error("Failed to save income:",n),!1}}(e,n),console.log("Income saved:",n,"for month:",e),alert(`Income saved for ${e}!`)}catch(n){console.error("Failed to save:",n),alert("Failed to save income")}}),t.appendChild(r),t.appendChild(o),t.appendChild(d),e.appendChild(t)}(e),function(n){const e=n||document.getElementById("main-arena");e.innerHTML="";const t=[];function r(n,e,t){this.id=crypto.randomUUID(),this.title=n,this.amount=e,this.repeat=t}function o(){const n=x();!function(n,e){try{const t=w();return E(t,n),t[n].expenses=e,localStorage.setItem("allExpenses",JSON.stringify(t)),console.log("Saved expenses for month:",n),!0}catch(n){return console.error("Failed to save expenses:",n),!1}}(n,t),console.log("Saved expenses for month:",n)}const a=document.createElement("div");a.classList.add("expense-wrapper"),a.innerHTML='\n    <h2>Default Monthly Expenses</h2>\n    <div id="default-expense-container"></div>\n\n    <h2>Add Custom Expense</h2>\n\n    <label>Title</label>\n    <input id="custom-title" type="text" placeholder="e.g., Insurance">\n\n    <label>Amount</label>\n    <input id="custom-amount" type="number" min="0" placeholder="0">\n\n    <label>Frequency</label>\n    <select id="custom-repeat">\n      <option value="monthly">Monthly</option>\n      <option value="weekly">Weekly</option>\n      <option value="daily">Daily</option>\n      <option value="one-time">One-time</option>\n    </select>\n\n    <button id="add-custom-expense">Add Custom Expense</button>\n\n    <h3>Your Selected Expenses</h3>\n    <div id="expense-list"></div>\n  ',e.appendChild(a);const i=document.getElementById("default-expense-container");function s(n,e,o){const a=t.find(e=>e.title===n);a?(a.amount=e,a.repeat=o):t.push(new r(n,e,o))}function d(n){const e=t.findIndex(e=>e.title===n);-1!==e&&t.splice(e,1)}function c(){const n=document.getElementById("expense-list");n.innerHTML="",0!==t.length?t.forEach(e=>{const t=document.createElement("div");t.classList.add("expense-row");const r=document.createElement("span");r.textContent=`${e.title} — ₹${e.amount} (${e.repeat})`;const a=document.createElement("button");a.textContent="Delete",a.style.marginLeft="10px",a.classList.add("delete-btn"),a.addEventListener("click",()=>{d(e.title),o(),c()}),t.appendChild(r),t.appendChild(a),n.appendChild(t)}):n.innerHTML="<div>No expenses added.</div>"}!function(){const n=x();L(n).forEach(n=>{t.push(n)}),console.log("Loaded expenses for month:",n,t)}(),[{title:"Rent",repeat:"monthly"},{title:"Electricity Bill",repeat:"monthly"},{title:"Groceries",repeat:"monthly"},{title:"Internet / Wifi",repeat:"monthly"},{title:"Water Bill",repeat:"monthly"},{title:"EMI",repeat:"monthly"}].forEach(n=>{const e=document.createElement("div");e.classList.add("default-expense-row");const r=n.title.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");e.innerHTML=`\n      <input type="checkbox" id="${r}-check">\n      <label for="${r}-check">${n.title}</label>\n\n      <input \n        type="number" \n        id="${r}-amount" \n        placeholder="Amount" \n        min="0" \n        disabled\n        style="width:110px;margin-left:8px;"\n      >\n\n      <select id="${r}-repeat" disabled style="margin-left:8px;">\n        <option value="monthly">Monthly</option>\n        <option value="weekly">Weekly</option>\n        <option value="daily">Daily</option>\n        <option value="one-time">One-time</option>\n      </select>\n    `,i.appendChild(e);const a=e.querySelector(`#${r}-check`),l=e.querySelector(`#${r}-amount`),p=e.querySelector(`#${r}-repeat`),m=t.find(e=>e.title===n.title);m&&(a.checked=!0,l.disabled=!1,p.disabled=!1,l.value=m.amount,p.value=m.repeat),a.addEventListener("change",()=>{const e=a.checked;l.disabled=!e,p.disabled=!e,e?s(n.title,Number(l.value||0),p.value):(d(n.title),l.value="",p.value="monthly"),o(),c()}),l.addEventListener("input",()=>{a.checked&&(s(n.title,Number(l.value),p.value),o(),c())}),p.addEventListener("change",()=>{a.checked&&(s(n.title,Number(l.value),p.value),o(),c())})}),document.getElementById("add-custom-expense").addEventListener("click",()=>{const n=document.getElementById("custom-title").value.trim(),e=Number(document.getElementById("custom-amount").value),t=document.getElementById("custom-repeat").value;n&&e?(s(n,e,t),document.getElementById("custom-title").value="",document.getElementById("custom-amount").value="",document.getElementById("custom-repeat").value="monthly",o(),c()):alert("Fill all custom fields")}),c()}(t)}(),C(e)}),r.addEventListener("click",()=>{document.getElementById("main-arena").innerHTML="",C(r)}),t.addEventListener("click",()=>{document.getElementById("main-arena").innerHTML="",function(){const n=document.getElementById("main-arena");n.innerHTML="",document.createElement("div").classList.add("history-wrapper");const e=y(),t=w();[...new Set([...Object.keys(e),...Object.keys(t)])].sort().reverse().forEach(r=>{const o=e[r]?.income||0,a=(t[r]?.expenses||[]).reduce((n,e)=>n+e.amount,0),i=document.createElement("div");i.classList.add("month-card");const s=document.createElement("h3");s.classList.add("month-title"),s.textContent=function(n){const[e,t]=n.split("-");return`${["January","February","March","April","May","June","July","August","September","October","November","December"][Number(t)-1]} ${e}`}(r);const d=document.createElement("div");d.classList.add("row","income"),d.innerHTML=`<span>Income</span><span>₹${o}</span>`;const c=document.createElement("div");c.classList.add("row","expense"),c.innerHTML=`<span>Expenses</span><span>₹${a} \n    (${o>0?(a/o*100).toFixed(1):0}%)</span>`;const l=document.createElement("div");l.classList.add("row","savings"),l.innerHTML=`<span>Savings</span><span>₹${o-a} \n    (${o>0?((o-a)/o*100).toFixed(1):0}%)</span>`,i.appendChild(s),i.appendChild(d),i.appendChild(c),i.appendChild(l),n.appendChild(i)})}(),C(t)}),o.addEventListener("click",()=>{document.getElementById("main-arena").innerHTML="",C(o)})})})();